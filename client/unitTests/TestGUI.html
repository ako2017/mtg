<!DOCTYPE html> 
<html> 
    <head> 
        <title>Magic the Gathering TEST v1.0</title> 
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
				<link rel="stylesheet" href="../src/styles/gui.css">
				
				<script src="../libs/jquery-3.0.0.min.js"></script>
				<script src="../libs/phaser.min.js"></script>
				<script src="../libs/phaser-input.min.js"></script>
				<script src="../src/model/Constantes.js"></script>
				<script src="../src/views/CardView.js"></script>
				<script src="../src/views/GameView.js"></script>
				<script src="../src/views/PlayerView.js"></script>
				<script src="../src/views/CardBDD.js"></script>
	
				<script src="../src/controller/GameController.js"></script>
				
				<script src="PreloadState.js"></script>
				<script src="../src/states/MainMenuState.js"></script>
				<script src="../src/states/GameState.js"></script>
				<script>
					$(document).ready(function() {
						var game;
						var socket;
						var gameSize;

						game = new Phaser.Game(800,600, Phaser.CANVAS, "game-area");
						gameState = new GameState();
						game.state.add("Preload",preloadState);
						game.state.add("MainMenu",mainMenuState);
						game.state.add("Game",gameState);
						game.state.start("Preload");
					});
					

					var playersData = [
						{
							name : 'p1',
							deck : [{uid:1,id:1},{uid:2,id:1},{uid:3,id:1},{uid:4,id:1},{uid:5,id:1}]
						},
						{
							name : 'p2',
							deck : [{uid:6,id:2},{uid:7,id:2},{uid:8,id:2},{uid:9,id:2},{uid:10,id:2}]
						}
					]

					function initPlayers() {
						gameState.view.myName = 'p1';
						gameState.view.initPlayers(playersData);
					}	

					function distribution() {
						gameState.view.myName = 'p1';
						//gameState.view.initPlayers(playersData);
						var event = {
							type : GameEvent.DISTRIBUTION, 
							data : [
								{
									name : 'p1',
									hand:[1,2]
								},
								{
									name : 'p2',
									hand:[6,7]
								}
							]};
						gameState.view.onReceive(event);
					}			
					
					function muligane() {
						var event = {type : GameEvent.MULIGANE, data : {name : 'pau',cards:[0,1,2,4,5]}};
						gameState.view.onReceive(event);
					}
					
					function whoBegin() {
						var event = {type : GameEvent.WHO_BEGIN, data : {name : 'pau'}};
						gameState.view.onReceive(event);
						
					}
				</script>
    </head> 

    <body bgcolor="grey">
			<div id="game-area"></div>
			<a onClick ="initPlayers();" href="#">01-TEST INIT</a><br/>
			<a onClick ="distribution();" href="#">01-TEST DISTRIBUTION</a><br/>
			<a onClick ="muligane();" href="#">02-TEST MULIGANE</a><br/>
			<a onClick ="whoBegin();" href="#">03-WHO BEGIN</a><br/>
    </body>

</html>